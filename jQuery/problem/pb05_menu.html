<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>가변 폭 레이아웃에 메뉴바 이벤트2(드롭다운)</title>
    <link rel="stylesheet" href="reset.css">
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <style>
        /** -------------------------전체적------------------------ */
        a {
            text-decoration: none;
            color: inherit;
        }

        /** ------------------------#header------------------------ */
        #header {
            padding: 30px;
        }
        #header > h1 {
            font-size: 35px;
            font-weight: bolder;
            text-shadow: 3px 3px 3px rgb(144, 144, 144);
        }

        /** --------------------------#nav------------------------- */
        #nav {
            display: flex;
            justify-content: space-between;
            background-color: #6b6b6b;
            margin-bottom: 10px;
        }
        #nav > ul {
            display: flex;
        }
        #nav > ul > li > a {
            color: white;
            display: block;
            padding: 20px;
        }
        #nav > ul > li > a:hover {
            background-color: #464646;
        }
        /** 서브 메뉴 */
        #category > li {
            position: relative;
        }
        #category > li > .submenu {
            /** 처음에는 보이지 않도록 */
            display: none;

            position: absolute;
            left: 0;
            top: 105%;
            background-color: #6b6b6b;
        }
        #category > li > .submenu > li > a {
            color: white;
            display: block;
            padding: 20px;
        }
        #category > li > .submenu > li > a:hover {
            background-color: #464646;
        }

        #category > li > ul.on {
            display: block;
        }

        /** -----------------------#container---------------------- */
        #container {
            display: flex;
        }

        /** ------------------#container > #sidebar---------------- */
        #sidebar {
            width: 200px;
            box-sizing: border-box;
        }

        #sidebar > ul > li > a {
            display: block;
            padding: 20px 20px;
        }
        #sidebar > ul > li > a:hover {
            background-color: #c5c5c5;
        }

        /** ----------------#container > #contents----------------- */
        #contents{
            width: calc(100% - 200px);
            padding: 5px 20px;
            border-left: 2px solid rgb(183, 183, 183);
        }
        #contents > h2 {
            font-size: 25px;
            font-weight: 600;
            margin: 20px 0;
        }
        #contents > p {
            font-size: 15px;
            line-height: 2;
            margin-bottom: 20px;
        }

        /** ------------------------#footer------------------------ */
        #footer{
            background-color: #a6a6a6;
            padding: 30px;
            text-align: right;
        }
    </style>
    <script>
        $(function(){
            const $menu = $('#category > li > a');
            const $submenu = $('.submenu');

            $menu.on('click', function(event){

                // 기본 이벤트 제거(a 이벤트 제거)
                event.preventDefault();

                /** 1. 내가 푼 방법(css에 on클래스를 입력해 놓음) -------------------------------------------------------------
                // 클릭 이벤트가 발생한 <a> 요소 다음에 나오는 자식 요소 > .submenu 요소
                // this.nextElementSibling 을 써주면 됨.
                // $thisSubmenu =  $(this).siblings(); 이건 내가 적은걸로 가능하긴 한데 아래가 좀 더 깔끔
                // $(this).next(); 도 가능
                $thisSubmenu = $(this.nextElementSibling);

                // 1. 만약에 클릭한 메뉴의 서브메뉴가 on클래스 상태이면?(display:block)
                if($thisSubmenu.is('.on')){
                    // on클래스를 제거해줘(재클릭시 사라지게)
                    $thisSubmenu.removeClass('on');

                // 만약에 클릭한 메뉴의 서브메뉴가 on클래스 상태가 아니면?(display:none)
                }else{
                    // 일단 서브 메뉴들에 on클래스 되어 있는 거 제거
                    $submenu.removeClass('on');
                    // 클릭한 애에게 on클래스 부여(클릭시 나오게)
                    $thisSubmenu.addClass('on');
                }
                */
                

                /** 2. 다른 방법(on클래스를 css에서 안 줬을 때) hide, show 메서드 사용 ------------------------------------------
                
                // hide 메서드: display 스타일 속성을 설정해 HTML 요소가 화면에 보이지 않도록 설정
                // show 메서드: display 스타일 속성을 설정해 HTML 요소가 화면에 보이도록 설정
                

                $thisSubmenu = $(this.nextElementSibling);

                // 화면에 표시된 상태라면?
                if($thisSubmenu.is(':visible')){
                    // 내가 클릭한 메뉴의 서브 메뉴가 화면에 안 보이게 함
                    // $thisSubmenu.css('display', 'none');
                    // $thisSubmenu.css('display', '');
                    // $thisSubmenu.removeAttr('style');
                    $thisSubmenu.hide();

                // 화면에 보이지 않는 상태라면?
                }else{
                    // 이미 화면에 보이는 서브 메뉴는 화면에 안 보이게 함
                    $submenu.hide();

                    // 내가 클릭한 메뉴의 서브 메뉴가 화면에 나타나게 함
                    $thisSubmenu.show();
                }

                
                // 3. 다른 방법(on클래스를 css에서 안 줬을 때) toggle 메서드 사용 적어도 3번 방법부터 써야 jQuery를 쓴다고 생각-----------------------

                //toogle 메서드: show인 상태와 hide 상태를 토글(알아서 보이면 보이지 않게, 보이지 않으면 보이게)

                $thisSubmenu = $(this.nextElementSibling);
                
                // 화면에 보이지 않은 상태면?
                // 숨기고
                if($thisSubmenu.is(':hidden')){
                    $submenu.hide();
                }
                // 그 다음에는 화면에 표시하거나 숨김
                $thisSubmenu.toggle();
                */


                /** 4. 다른 방법 toggle 메서드 사용 ------------------------------------------ */
                // $menu.on('click', function(event){

                //     event.preventDefault();

                //     $thisSubmenu = $(this.nextElementSibling);

                //     $submenu.not($thisSubmenu).hide();
                //     $thisSubmenu.toggle();
                // });


                /** 5. 다른 방법 -------------------------------------------------------------*/
                $(this).next().toggle().parent()    // <li>요소
                    .siblings().children('.submenu').hide();

            });
        });
    </script>
</head>
<body>
    <header id="header">
        <h1><a href="#fluidlayout">Fluid Layout</a></h1>
    </header>
    <!-- // #header -->

    <nav id="nav">
        <ul id="category">
            <li><a href="#home">Home</a>
                <ul class="submenu">
                    <li><a href="#introduce">Introduce</a></li>
                    <li><a href="#service">Service</a></li>
                </ul>
            </li>
            <li><a href="#html">HTML</a>
                <ul class="submenu">
                    <li><a href="#tutorial">Tutorial</a></li>
                    <li><a href="#reference">Reference</a></li>
                    <li><a href="#example">Example</a></li>
                    <li><a href="#faq">FAQ</a></li>
                </ul>
            </li>
            <li><a href="#css">CSS</a>
                <ul class="submenu">
                    <li><a href="#tutorial">Tutorial</a></li>
                    <li><a href="#reference">Reference</a></li>
                    <li><a href="#example">Example</a></li>
                    <li><a href="#faq">FAQ</a></li>
                </ul>
            </li>
            <li><a href="#javascript">JavaScript</a>
                <ul class="submenu">
                    <li><a href="#tutorial">Tutorial</a></li>
                    <li><a href="#reference">Reference</a></li>
                    <li><a href="#example">Example</a></li>
                    <li><a href="#faq">FAQ</a></li>
                </ul>
            </li>
            <li><a href="#jquery">jQuery</a>
                <ul class="submenu">
                    <li><a href="#tutorial">Tutorial</a></li>
                    <li><a href="#reference">Reference</a></li>
                    <li><a href="#example">Example</a></li>
                    <li><a href="#faq">FAQ</a></li>
                </ul>
            </li>
        </ul>
        <ul>
            <li><a href="#login">Login</a></li>
            <li><a href="#singup">Sign up</a></li>
        </ul>
    </nav>
    <!-- // #nav -->

    <div id="container">
        <aside id="sidebar">
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#html">HTML</a></li>
                <li><a href="#css">CSS</a></li>
                <li><a href="#javascript">JavaScript</a></li>
                <li><a href="#jquery">jQuery</a></li>
            </ul>
        </aside>
        <!-- // #sidebar -->

        <main id="contents">
            <h2>Legends Never Die</h2>
            <p>Legends never die when the world is calling you Can you hear them 
                screaming out your name? Legends never die they become a part of 
                you Every time you bleed for reaching greatness Relentless you survive
                    They never lose hope when everything's cold and the fighting's near 
                    It's deep in their bones they run into smoke when the fire is fierce 
                    'Oh pick yourself up, cause
            </p>
            <p>
                Legends never die when the world is calling you Can you hear them 
                screaming out your name? Legends never die they become a part of you
                Every time you bleed for reaching greatness Legends never die
                They're written down in eternity But you'll never see the price
                it costs, the scars collected all their lives When everything's 
                lost, they pick up their hearts and avenge defeat Before it all 
                starts, they suffer through harm just to touch a dream 'Oh pick
                yourself up, cause
            </p>
            <p>
                Legends never die when the world is calling you Can you hear them
                screaming out your name? Legends never die they become a part of 
                you Every time you bleed for reaching greatness Legends never die 
                When the world is calling out your name Begging you to fight Pick 
                yourself up once more Pick yourself up, cause
            </p>
            <p>
                Legends never die when the world is calling you Can you hear them
                screaming out your name? Legends never die they become a part 
                of you Every time you bleed for reaching greatness Legends never die
            </p>
        </main>
        <!-- // #contents -->

    </div>
    <!-- // #container -->

    <footer id="footer">
        &copy;2014-2016 Fluid Layout JS.
    </footer>
    <!-- // #footer -->

</body>
</html>
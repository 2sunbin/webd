<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>슬라이드 마우스 오버시 멈춤</title>
    <link rel="stylesheet" href="reset.css">
    <script src="https://code.jquery.com/jquery.min.js"></script>
    <style>
        #slide {
            width: 960px;
            border: 20px solid orangered;
            margin: 100px auto;
            overflow: hidden;
        }
        #slide > ul {
            display: flex;
            width: 500%;
        }
        #slide > ul >li {
            width: 20%;
        }
        #slide > ul > li > img {
            display: block;
            width: 100%;
        }
    </style>
    <script>
        $(function(){
            const $slide = $('#slide > ul');
            const INTERVAL = 2000;
            const DURATION = 400; 

            // 나중에 타이머를 해제하기 위해 setInterval 메서드가 반환하는 값, 
            // 즉 타이머 ID를 변수에 대입
            let timerId = window.setInterval(slideImage, INTERVAL);
            
            console.log('현재 timerID: ' + timerId);
            
            // 타이머에 의해 실행되는 함수 선언
            function slideImage(){
                $slide.css({transitionDuration: `${DURATION}ms`, marginLeft: '-100%'});
                
                window.setTimeout(function(){
                    // 위에서 준 스타일 속성 제거
                    $slide.removeAttr('style');
                    // 첫 번째 자식 요소를 마지막으로 옮김
                    $slide.children(':first').appendTo($slide);
                }, DURATION);
            };

            // 마우스 포인터가 들어가면 슬라이드가 멈추게
            $slide.on('mouseenter', function(){
                console.log('멈춤 timerId: ' + timerId);

                // setInterval 메서드로 등록한 타이머 해제
                // -> 타이머 해제시 타이머 ID 필요
                // -> 타이머 ID는 setInterval 반환 값
                window.clearInterval(timerId);
            });

            // 마우스 포인터가 나가면 슬라이드가 재동작하게
            $slide.on('mouseleave', function(){
                // 다시 움직이게 하기 위해서 setInterval 메서드로 등록했던 타이머와 같은 동작을 하는 타이머를 다시 등록
                timerId = window.setInterval(slideImage, INTERVAL);

                console.log('재동작 timerId: ' + timerId);
            });

            
        });
    </script>
</head>
<body>
    <div id="slide">
        <ul>
            <li><img src="https://i.imgur.com/7Mu8BZg.png" alt="슬라이드1"></li>
            <li><img src="https://i.imgur.com/kwD72gU.png" alt="슬라이드2"></li>
            <li><img src="https://i.imgur.com/qOU9yuQ.png" alt="슬라이드3"></li>
            <li><img src="https://i.imgur.com/YfsvbdE.png" alt="슬라이드4"></li>
            <li><img src="https://i.imgur.com/3KWpPQv.png" alt="슬라이드5"></li>
        </ul>
    </div>
</body>
</html>